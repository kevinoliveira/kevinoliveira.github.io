<script>
	let isDarkThemeActive = false;
	const darkTheme = 
		{
			"lighter": "#000",
			"light": "#000",
			"midLight": "#2b2b2b",
			"midDark": "#aeaeae",
			"dark": "#bdbdbd",
			"darker": "#c4c4c4",
		};

	const lightTheme =
		{
			"lighter": "white",
			"light": "whitesmoke",
			"midLight": "lightgrey",
			"midDark": "gray",
			"dark": "darkslategrey",
			"darker": "black",
		};



	function toogleCurrentTheme() {

		// SWITCH THEME
		isDarkThemeActive = !isDarkThemeActive;

		// CHANGE THEME
		var html = document.getElementsByTagName('html')[0];
		const themeToSet = isDarkThemeActive? darkTheme : lightTheme;
		html.style.setProperty("--lighter", themeToSet.lighter);
		html.style.setProperty("--light", themeToSet.light);
		html.style.setProperty("--mid-light", themeToSet.midLight);
		html.style.setProperty("--mid-dark", themeToSet.midDark);
		html.style.setProperty("--dark", themeToSet.dark);
		html.style.setProperty("--darker", themeToSet.darker);

		// SAVE THEME CHOICE ON LOCAL STORAGE
		localStorage.setItem('theme', isDarkThemeActive? "dark": "light");
	}

	function switchThemeOnStartUpIfNeeded() {
		const previousThemeChoice = localStorage.getItem('theme');
		if(
			(previousThemeChoice === "dark"  && !isDarkThemeActive ) ||
			(previousThemeChoice === "light" &&  isDarkThemeActive) 
		) toogleCurrentTheme();
	}

	switchThemeOnStartUpIfNeeded()
</script>