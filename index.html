<!DOCTYPE html>
<html>

    <head>
        <!-- HTML 4 -->
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
		<link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="images/favicons/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="images/favicons/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="images/favicons/manifest.json">
		<link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="theme-color" content="#ffffff">

        <title>Gerador de ata de reunião - Space Rocket</title>

    </head>

    <body class="grey lighten-5 ">
        <!--Import jQuery before materialize.js-->
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="js/materialize.js"></script>

     


        <div class="section  teal z-depth-2">
            <div class="row">
            <div class="col s12">
            <br>
            </div>
                <div class="col s12">
                    <h1 class="center white-text"><b>Space Rocket</b></h1>
                    <h5 class="center grey-text text-lighten-3">Gerador de ata de reunião</h5>
                </div>
            </div>
            <!--<div class="row">
                <div class="col s12 center">
                    <a href="pratice.html"class="waves-effect waves-light btn-flat btn-large white-text"><b>Start Training</b></a>
                </div>
            </div> -->
        </div>





        <!--MID CONTENT-->
        <div class="container ">
        <div class="row ">



            <!--<div class="container">-->
            <div>     
                <div class="row">


                        <br>
                        <div class="row">
                        <div class="col s12">
                        <h5><i class="material-icons teal-text ">note</i> Informações</h5>
                       
                           <!-- <div class="row">-->

                           <div>
                    
                                <div class="col s12 m6 input-field">
                                    <input id="pauta-reuniao" type="text" onchange="titleUpdate(this);">
                                    <label for="pauta-reuniao">Pauta de reunião</label>
                                </div>
                                <div class="col s12 m6 input-field">                                    
                                    <input id="numero_ata" type="number" name="quantity" min="1">
                                    <label for="numero_ata" >Numero da ata</label>
                                </div>
                                <div class="col s12 m6 input-field">                                   
                                    <input id="data_ata" type="date" class="datepicker">
                                    <label for="data_ata">Data de reunião</label>
                                </div>
                                <div class="col s12 m6 input-field">                                    
                                    <input id="local_reuniao" type="text">
                                    <label for="local_reuniao">Local de reunião</label>
                                </div>
                            </div>                                    
                            <!--</div>-->
                            <!--<div class="row">-->
                            
                            	<div class="col s12">
	                            	<table class="highlight bordered">
		                            	<thead>
		                            		<tr>
		                            			<th data-field="id">Presentes</th>
		                            		</tr>
		                            	</thead>
		                            	<tbody id="table-body-presentes">
		                            		<!-- A LISTA DE PRESENTES VEM AQUI-->
		                            		
		                            	</tbody>
	                            	</table>
                            	</div>
                            	
                            	 
								<div class="input-field col s12">
									<input type="text" id="text-add-presentes" class="autocomplete">
									<label for="autocomplete-input">Adicionar presente</label>
									<button onclick="PresentesAddTopic()" class="right btn-floating waves-effect waves-light"><i class="material-icons">add</i></button>
								</div>

                           		

                                
                            </div>
                            </div>    
                           <!-- </div>-->
                        
                        <div class="row">
                        <div class="col s12">
                        <h5><i class="material-icons teal-text ">forum</i> Desenvolvimento</h5>
                        
                            <table class="highlight bordered">
                                <thead>
                                  <tr>
                                      <th data-field="id">Tópicos discutidos</th>
                                  </tr>
                                </thead>

                                <tbody id="table-body-discutido">
                                  <!-- javascript will put code here, don't worry-->                                  
                                </tbody>
                            </table>
                            <div class="input-field col s12">
                                <textarea id="text-add-desenvolvimento" class="materialize-textarea"></textarea>
                                <label for="text-add-desenvolvimento">Adiconar tópico discutido</label>
                                <button onclick="DesenvAddTopic()" class="right btn-floating waves-effect waves-light"><i class="material-icons">add</i></button>
                            </div>
                        </div>
                        </div>
                      
                        <div class="row">
                        <div class="col s12">
                        <h5><i class="material-icons teal-text ">done_all</i> Finalização</h5>
                        
                            <table class="highlight bordered">
                                <thead>
                                  <tr>
                                      <th data-field="id">Tópicos decididos</th>
                                  </tr>
                                </thead>

                                <tbody id="table-body-decidido">
                                  <!-- javascript will put code here, don't worry-->
                                </tbody>
                            </table>
                            <br>
                            <div class="input-field col s12">
                                <textarea id="text-add-finalizacao" class="materialize-textarea"></textarea>
                                <label for="text-add-finalizacao">Adiconar tópico decidido</label>
                                <button onclick="finaliAddTopic()" class="right btn-floating waves-effect waves-light"><i class="material-icons">add</i></button>
                            </div>
                        </div>
                        </div>
                      
                    
                   <!-- <input type="date" class="datepicker">
                      <input type="number" name="quantity" min="1" max="5">
                -->

                </div>

                <div class="row">
                    <div class="col s12 center">

                        <button class="btn-large btn-flat waves-effect white-text teal" onclick="GeneratePdf()" type="submit" name="action"><b>Gerar pdf</b>
                            <!--<i class="material-icons right">send</i>-->
                        </button>


                    </div>
                </div>
                

                




            </div>            
        </div>
        </div>


          <!-- Modal Structure -->
		  <div id="modal1" class="modal modal-fixed-footer bottom-sheet">
		    <div class="modal-content">
		      <textarea id="textarea1" class="materialize-textarea"></textarea>
		    </div>
		    <div class="modal-footer">
		      <button href="#!" id="modalbutton" class="modal-action modal-close right btn-floating waves-effect waves-light green"><i class="material-icons">done</i></button>
		    </div>
		  </div>

        <!--FOOTER-->
        <div class="">
            <footer class="page-footer  teal">
                <div class="container">
                    <div class="row">
                        <div class="col l6 s12">
                            <h5 class="white-text"><b>Space Rocket</b></h5>
                            <p class="grey-text text-lighten-4">Gerador de ata de reunião feito para faciliatar a documentação das reuniões.</p>
                        </div>
                        
                    </div>
                </div>
                <div class="footer-copyright">
                    <div class="container">
                        © 2017 Copyright Text
                        <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
                    </div>
                </div>
            </footer>
        </div>



    </body>
    <script type="text/javascript">


        $('.datepicker').pickadate({
            selectMonths: true, // Creates a dropdown to control month
            selectYears: 15 // Creates a dropdown of 15 years to control year
        });

        $(document).ready(function() {
            $('input#input_text').characterCounter();
        });

        $(document).ready(function(){
		    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
		    $('.modal').modal();
		  });

        $(function () {
		  $('input.autocomplete').autocomplete({
		    data: {
				"José Diogo": null,
				"Fernando Maia": null,
				"Mateus Nascimento": null,
				"Welington Correia": null,
				"Sérgio Sacramento": null,
				"Icaro Leite": null,
				"Ricardo Matos": null,
				"Kevin Oliveira": null,
				"Emanuel Argolo": null,
				"Samuel Carvalho": null,
		    }
		  });
		});



    </script>
    <script src="js/pdfmake.min.js"></script>
    <script src="js/vfs_fonts.js"></script>



    
    <script type="text/javascript">

    	function titleUpdate(pauta){
    		document.title = pauta.value;
    	}

        function PresentesAddTopic(){

        	if(document.getElementById("text-add-presentes").value == "" )  return;      	

            //CREATIG ELEMENTS
            var tableRow = document.createElement("tr");
            var headerCell1 = document.createElement("td");
            var headerCell2 = document.createElement("td");
            var removeButton = document.createElement("button");
            var icon = document.createElement("i");
            var iconEdit = document.createElement("i");
            var editButton = document.createElement("button");

            //STRUCTURING THE ELEMENTS
            tableRow.appendChild(headerCell1);
            tableRow.appendChild(headerCell2);
            headerCell2.appendChild(removeButton);
            removeButton.appendChild(icon);
         	editButton.appendChild(iconEdit);
            headerCell2.appendChild(editButton);

            //REMOVE BUTTON
            removeButton.className = "right btn-floating waves-effect waves-light red";
            removeButton.onclick = function(){ tableRow.remove()};

            //ICON OF REMOVE BUTTON
            icon.className = "material-icons";
            icon.innerHTML="clear";


            //EDIT BUTTON
            editButton.className = "right btn-floating waves-effect waves-light orange";
            editButton.setAttribute("data-target","modal1");
            editButton.onclick = function(){ 
            	//editButton.className = "right btn-floating waves-effect waves-light green";
            	//iconEdit.innerHTML = "done";
            	//editButton.onclick = function(){
            		//editButton.className = "right btn-floating waves-effect waves-light orange";
            		//iconEdit.innerHTML = "mode_edit";
            		//editButton.onclick = editMode(tableRow);
            	//}
            	document.getElementById("textarea1").value = headerCell1.innerHTML;
            	document.getElementById("modalbutton").onclick = function(){ 
            		headerCell1.innerHTML = document.getElementById("textarea1").value;
            	 };

            };

            //ICON OF EDIT BUTTON
            iconEdit.className = "material-icons";
            iconEdit.innerHTML = "mode_edit";

            //GETING THE VALUE OF TEXTAREA
            headerCell1.innerHTML = document.getElementById("text-add-presentes").value;

            //CLEAR THE TEXT DIGITED
            document.getElementById("text-add-presentes").value = "";
            //PUT THE ELEMENT ON THE TABLE
            document.getElementById('table-body-presentes').appendChild(tableRow);


        }


        function DesenvAddTopic(){

        	if(document.getElementById("text-add-desenvolvimento").value == "" )  return;      	

            //CREATIG ELEMENTS
            var tableRow = document.createElement("tr");
            var headerCell1 = document.createElement("td");
            var headerCell2 = document.createElement("td");
            var removeButton = document.createElement("button");
            var icon = document.createElement("i");
            var iconEdit = document.createElement("i");
            var editButton = document.createElement("button");

            //STRUCTURING THE ELEMENTS
            tableRow.appendChild(headerCell1);
            tableRow.appendChild(headerCell2);
            headerCell2.appendChild(removeButton);
            removeButton.appendChild(icon);
         	editButton.appendChild(iconEdit);
            headerCell2.appendChild(editButton);

            //REMOVE BUTTON
            removeButton.className = "right btn-floating waves-effect waves-light red";
            removeButton.onclick = function(){ tableRow.remove()};

            //ICON OF REMOVE BUTTON
            icon.className = "material-icons";
            icon.innerHTML="clear";


            //EDIT BUTTON
            editButton.className = "right btn-floating waves-effect waves-light orange";
            editButton.setAttribute("data-target","modal1");
            editButton.onclick = function(){ 
            	//editButton.className = "right btn-floating waves-effect waves-light green";
            	//iconEdit.innerHTML = "done";
            	//editButton.onclick = function(){
            		//editButton.className = "right btn-floating waves-effect waves-light orange";
            		//iconEdit.innerHTML = "mode_edit";
            		//editButton.onclick = editMode(tableRow);
            	//}
            	document.getElementById("textarea1").value = headerCell1.innerHTML;
            	document.getElementById("modalbutton").onclick = function(){ 
            		headerCell1.innerHTML = document.getElementById("textarea1").value;
            	 };

            };

            //ICON OF EDIT BUTTON
            iconEdit.className = "material-icons";
            iconEdit.innerHTML = "mode_edit";

            //GETING THE VALUE OF TEXTAREA
            headerCell1.innerHTML = document.getElementById("text-add-desenvolvimento").value;

            //CLEAR THE TEXT DIGITED
            document.getElementById("text-add-desenvolvimento").value = "";
            //PUT THE ELEMENT ON THE TABLE
            document.getElementById('table-body-discutido').appendChild(tableRow);


        }

        function finaliAddTopic(){

        	if(document.getElementById("text-add-finalizacao").value == "" )  return;      	

            //CREATIG ELEMENTS
            var tableRow = document.createElement("tr");
            var headerCell1 = document.createElement("td");
            var headerCell2 = document.createElement("td");
            var removeButton = document.createElement("button");
            var icon = document.createElement("i");
            var iconEdit = document.createElement("i");
            var editButton = document.createElement("button");


            //STRUCTURING THE ELEMENTS
            tableRow.appendChild(headerCell1);
            tableRow.appendChild(headerCell2);
            headerCell2.appendChild(removeButton);
            removeButton.appendChild(icon);
            editButton.appendChild(iconEdit);
            headerCell2.appendChild(editButton);

            
            //REMOVE BUTTON
            removeButton.className = "right btn-floating waves-effect waves-light red";
            removeButton.onclick = function(){ tableRow.remove()};
            //removeButton.onclick = function(){ document.getElementById(tableRow.id).remove();}


            //ICON OF REMOVE BUTTON
            icon.className = "material-icons";
            icon.innerHTML= "clear";

            //EDIT BUTTON
            editButton.className = "right btn-floating waves-effect waves-light orange";
            editButton.setAttribute("data-target","modal1");
            editButton.onclick = function(){ 
            	//editButton.className = "right btn-floating waves-effect waves-light green";
            	//iconEdit.innerHTML = "done";
            	//editButton.onclick = function(){
            		//editButton.className = "right btn-floating waves-effect waves-light orange";
            		//iconEdit.innerHTML = "mode_edit";
            		//editButton.onclick = editMode(tableRow);
            	//}
            	document.getElementById("textarea1").value = headerCell1.innerHTML;
            	document.getElementById("modalbutton").onclick = function(){ 
            		headerCell1.innerHTML = document.getElementById("textarea1").value;
            	 };

            };

            //ICON OF EDIT BUTTON
            iconEdit.className = "material-icons";
            iconEdit.innerHTML = "mode_edit";


            //GETING THE VALUE OF TEXTAREA
            headerCell1.innerHTML = document.getElementById("text-add-finalizacao").value;

            //CLEAR THE TEXT DIGITED
            document.getElementById("text-add-finalizacao").value = "";
            //PUT THE ELEMENT ON THE TABLE
            document.getElementById('table-body-decidido').appendChild(tableRow);
            //console.log(ataReuniao.decidido.JSONparse);


        }


    /*
        var exemplo = document.createElement("p");
        exemplo.appendChild(document.createTextNode("haha"));
        var end = document.getElementById('end');
        end.appendChild(exemplo);
        */
       /* var doc = new jsPDF();

        doc.text('hello world', 10, 10);
        doc.save('firstfile.pdf'); */

        function showData(){
            console.log('hello world');
            console.log('PAUTA: ' + document.getElementById('pauta-reuniao').value);
            console.log('NUMERO DA ATA: ' + document.getElementById('numero_ata').value);
            console.log('DATA: ' + document.getElementById('data_ata').value);
            console.log('LOCAL: ' + document.getElementById('local_reuniao').value);
           
            console.log('PRESENTES:')

            if( document.getElementById('pessoa1').checked ) console.log( document.getElementById('pessoa1').value);
            if( document.getElementById('pessoa2').checked ) console.log( document.getElementById('pessoa2').value);
            if( document.getElementById('pessoa3').checked ) console.log( document.getElementById('pessoa3').value);
            if( document.getElementById('pessoa4').checked ) console.log( document.getElementById('pessoa4').value);
            if( document.getElementById('pessoa5').checked ) console.log( document.getElementById('pessoa5').value);
            if( document.getElementById('pessoa6').checked ) console.log( document.getElementById('pessoa6').value);
            if( document.getElementById('pessoa7').checked ) console.log( document.getElementById('pessoa7').value);
            if( document.getElementById('pessoa8').checked ) console.log( document.getElementById('pessoa8').value);
            if( document.getElementById('pessoa9').checked ) console.log( document.getElementById('pessoa9').value);
            if( document.getElementById('pessoa10').checked ) console.log( document.getElementById('pessoa10').value);
            if( document.getElementById('pessoa11').checked ) console.log( document.getElementById('pessoa11').value);
            if( document.getElementById('pessoa12').checked ) console.log( document.getElementById('pessoa12').value);


            console.log('DISCUTIDO: ' + document.getElementById('texto_decidido').value);
            console.log('DECIDIDO: ' + document.getElementById('texto_discutido').value);
        }


        function GeneratePdf(){

        var ataReuniao = {
            pauta: document.getElementById('pauta-reuniao').value,
            numero: document.getElementById('numero_ata').value,
            data: document.getElementById('data_ata').value,
            local: document.getElementById('local_reuniao').value,
            presentes: [],
            discutido: [],
            decidido:  []
        }

            //if( document.getElementById('pessoa1').checked ) ataReuniao.presentes.push( document.getElementById('pessoa1').value);
            /*
            if( document.getElementById('pessoa1').checked ) ataReuniao.presentes.push( document.getElementById('pessoa1').value);
            if( document.getElementById('pessoa2').checked ) ataReuniao.presentes.push( document.getElementById('pessoa2').value);
            if( document.getElementById('pessoa3').checked ) ataReuniao.presentes.push( document.getElementById('pessoa3').value);
            if( document.getElementById('pessoa4').checked ) ataReuniao.presentes.push( document.getElementById('pessoa4').value);
            if( document.getElementById('pessoa5').checked ) ataReuniao.presentes.push( document.getElementById('pessoa5').value);
            if( document.getElementById('pessoa6').checked ) ataReuniao.presentes.push( document.getElementById('pessoa6').value);
            if( document.getElementById('pessoa7').checked ) ataReuniao.presentes.push( document.getElementById('pessoa7').value);
            if( document.getElementById('pessoa8').checked ) ataReuniao.presentes.push( document.getElementById('pessoa8').value);
            if( document.getElementById('pessoa9').checked ) ataReuniao.presentes.push( document.getElementById('pessoa9').value);
            if( document.getElementById('pessoa10').checked ) ataReuniao.presentes.push( document.getElementById('pessoa10').value);
            if( document.getElementById('pessoa11').checked ) ataReuniao.presentes.push( document.getElementById('pessoa11').value);
            if( document.getElementById('pessoa12').checked ) ataReuniao.presentes.push( document.getElementById('pessoa12').value);
			*/

			for(var i=0;i<document.getElementById('table-body-presentes').rows.length;i++){
                ataReuniao.presentes.push(document.getElementById('table-body-presentes').rows[i].cells[0].innerHTML);
            } 

            for(var i=0;i<document.getElementById('table-body-discutido').rows.length;i++){
                ataReuniao.discutido.push(document.getElementById('table-body-discutido').rows[i].cells[0].innerHTML);
            } 

            for(var i=0;i<document.getElementById('table-body-decidido').rows.length;i++){
                ataReuniao.decidido.push(document.getElementById('table-body-decidido').rows[i].cells[0].innerHTML);
            } 

            



            console.log(ataReuniao);


            console.log(ataReuniao.presentes.toString());

            var docDefinition = {
                content:[
                    {text: 'Space Rocket',style:'mainHeader'},
                    {text: 'Ata da Reunião n°' + ataReuniao.numero, style:'subMainHeader'},
                    {text: ataReuniao.local+ ' - ' + ataReuniao.data , style:'subMainHeaderInfo'},

                    {text: 'Informações',style:'pageHeader',pageBreak: 'before'},
                    {text: 'Pauta da reunião', style: 'topic'},
                    {text: ataReuniao.pauta, style: 'info'},
                    {text: 'Data de reunião', style:'topic'},
                    {text: ataReuniao.data, style: 'info'},
                    {text: 'Local de reunião', style:'topic'},
                    {text: ataReuniao.local, style: 'info'},
                    {text: 'Presentes', style:'topic'},
                    {ul: ataReuniao.presentes, style:'info'},
 
                    
                    {text: 'Discutido',style:'pageHeader',pageBreak: 'before'},
                    {ul: ataReuniao.discutido, style: 'info'},

                    {text: 'Definido',style:'pageHeader',pageBreak: 'before'},
                    {ul: ataReuniao.decidido, style: 'info'},


                ],
                styles:{
                    mainHeader:{
                        fontSize: 50,
                        bold: true,
                        alignment: 'right',
                    },
                    subMainHeader:{
                        fontSize: 25,
                        bold: false,
                        alignment: 'right',
                    },
                    subMainHeaderInfo:{
                        fontsize: 20,
                        bold: true,
                        alignment: 'right',
                    },
                    pageHeader:{
                        fontSize: 40,
                        bold: true,
                        alignment: 'right',
                        margin: [0,0,0,20],                      
                    },
                    topic:{
                        fontsize: 30,
                        bold: true,
                        alignment: 'left',                        
                    },
                    info:{
                        fontsize: 20,
                        bold: false,
                        alignment: 'left',
                        margin: [20,0,0,15],
                    }

                    

                },
                pageMargins: [ 40, 60, 40, 60 ],
                pageSize: 'A4',
            };

             pdfMake.createPdf(docDefinition).download(ataReuniao.numero + '_'+ ataReuniao.data + '_' + ataReuniao.pauta +'.pdf');


        }
        
/*
        var docDefinition = {
           content: [
                {text:'Pauta da reunião',style:'header'},
                {text:'reunião de numero',style:'header'},
                {text:'this is a test',style:'header'},
                {text:'this is a test',style:'header'},
                {text:'this is a test',style:'header'},
                {text:'this is a test',style:'header'},

                {text:'i think it works jut fine'},
                {text:'ps: o love you'}
           ],
           styles: {
                header:{
                    fontSize: 30,
                    bold: true
                },
                text: {
                    fontsize: 18
                }
           }
         };

      /*

         // open the PDF in a new window
         pdfMake.createPdf(docDefinition).open();

         // print the PDF
         pdfMake.createPdf(docDefinition).print();
*/
         // download the PDF*

 



    </script>
</html>
